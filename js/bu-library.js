!function(t,e,i){var n,o="hashchange",r=document,a=t.event.special,s=r.documentMode,l="on"+o in e&&(s===i||s>7);function c(t){return"#"+(t=t||location.href).replace(/^[^#]*#?(.*)$/,"$1")}t.fn[o]=function(t){return t?this.bind(o,t):this.trigger(o)},t.fn[o].delay=50,a[o]=t.extend(a[o],{setup:function(){if(l)return!1;t(n.start)},teardown:function(){if(l)return!1;t(n.stop)}}),n=function(){var n,a,s,d={},f=c(),h=function(t){return t},u=h,p=h;function v(){var i=c(),r=p(f);i!==f?(u(f=i,r),t(e).trigger(o)):r!==f&&(location.href=location.href.replace(/#.*/,"")+r),n=setTimeout(v,t.fn[o].delay)}return d.start=function(){n||v()},d.stop=function(){n&&clearTimeout(n),n=i},t.browser.msie&&!l&&(d.start=function(){a||(s=(s=t.fn[o].src)&&s+c(),a=t('<iframe tabindex="-1" title="empty"/>').hide().one("load",(function(){s||u(c()),v()})).attr("src",s||"javascript:0").insertAfter("body")[0].contentWindow,r.onpropertychange=function(){try{"title"===event.propertyName&&(a.document.title=r.title)}catch(t){}})},d.stop=h,p=function(){return c(a.location.href)},u=function(e,i){var n=a.document,s=t.fn[o].domain;e!==i&&(n.title=r.title,n.open(),s&&n.write('<script>document.domain="'+s+'"<\/script>'),n.close(),a.location.hash=e)}),d}()}(jQuery,this),function(t){"use strict";function e(e,i){var n=t(e).offset().top-i;n=t("#wpadminbar").length?n-28:n,t("html,body").animate({scrollTop:n},"slow")}if(t("body#lib-guide").length>0&&0==t("body.fixmarkup").length){if(t("#content").find("#single-guide").find(".main").find("h2").length>1){t("#content").find(".main").find("h1").first().after('<div id="guide-jump-nav" class="filter-nav"><span><strong>Guide Index</strong></span><div class="filter-options cf"></div></div>');var i=[];if(t("#content").find("#single-guide").find(".main").find("h2").each((function(){var e=t(this),n=e.index(),o=e.text(),r=o.replace(/[^\w]/gi,"");e.attr("id",r+n),""!==o&&i.push('<a href="#'+r+n+'">'+o+"</a>")})),i.length){for(var n=Math.ceil(i.length/3),o="",r=-1,a=0;a<3;a++){o+="<ul>";for(var s=0;s<n;s++)++r<i.length&&(o+="<li>"+i[r]+"</li>");o+="</ul>"}t("#guide-jump-nav").find("div").append(o)}}t("#guide-jump-nav").hoverIntent({over:function(){t(this).find(".filter-options").slideDown("fast")},timeout:300,out:function(){t(this).find(".filter-options").slideUp("fast")}}),t("#guide-jump-nav").find("ul").find("li").find("a").live("click",(function(){jQuery(".filter-options").hide();var i=t(this).attr("href"),n=t("#scroller").outerHeight(!0),o=n;return"fixed"!=t("#scroller").css("position")&&(o=2*n),e(i,o),!1}));var l=function(){var e=t(window).scrollTop(),i=t("#scroller-anchor").offset().top,n=t("#scroller");e>i?n.css({position:"fixed",top:t("#wpadminbar").length?"30px":"0px"}):e<=i&&n.css({position:"relative",top:""})};t(window).scroll(l),l()}if(t("#alphabetical-list").length){t("#alphabetical-list #jump-to").find("ul").find("li").find("a").live("click",(function(){jQuery(".filter-options").hide();var i=t(this).attr("href"),n=t("#jump-to").outerHeight(!0),o=n;return"fixed"!=t("#jump-to").css("position")&&(o=2*n),e(i,o),!1}));l=function(){var e=t(window).scrollTop(),i=t("#jump-to-anchor").offset().top,n=t("#jump-to");e>i?(n.css({position:"fixed",top:t("#wpadminbar").length?"30px":"0px"}),n.addClass("floating")):e<=i&&(n.css({position:"relative",top:""}),n.removeClass("floating"))};t(window).scroll(l),l()}t("#research-guides").length>0&&(t(window).hashchange((function(e){var i,n=location.hash.replace(/^#/,"");""==(i=n)&&(i="subject-list"),"subject-list"!=i&&(i="alphabetical-list"),t(".filter-options").find("a").each((function(e,n){var o=t(n).attr("href").replace(/^#/,""),r=t("#"+o);i===o?(r.show(),t("a.tab-switcher").text(t(n).text())):r.hide()})),t(".filter-options").hide(),e.preventDefault()})),t(window).hashchange(),t(".filter-options").find("a").click((function(e){location.hash==t(this).attr("href")&&(e.preventDefault(),t(".filter-options").hide())})));var c={over:function(){t(this).find(".filter-options").show()},timeout:100,out:function(){t(this).find(".filter-options").hide()}};t(".drop-filter").hoverIntent(c),t("a.tab-switcher").click((function(t){t.preventDefault()}));var d=t("#subject-list");d.length&&(d.find(".guides").hide(),d.find("h3").click((function(e){var i=t(this);i.parent().toggleClass("bu_collapsible_open"),i.next().slideToggle("fast"),e.preventDefault})).css("cursor","pointer"),t(window).hashchange((function(e){var i=location.hash.replace(/^#/,"");return t('a[name="'+i+'"]').parent().next().slideToggle("fast").parent().toggleClass("bu_collapsible_open"),!1})),t(window).hashchange());var f={over:function(){var e=t(this).parent(".column");t(".expanded-menus",e).show()},timeout:100,out:function(){var e=t(this).parent(".column");t(".expanded-menus",e).hide()}};t("#home-bottom .drop").hoverIntent(f),t("#home-bottom .expanded-links li").click((function(){var e=t(this).parents(".column");return p(this,e),!1}));var h,u,p=function(e,i){var n=t(e).data("menu");t(".expanded-links li",i).removeClass("selected"),t(e).addClass("selected"),t(".expanded",i).hide(),t("#"+n,i).show()},v=t("#search").find("fieldset.narrow-search"),m=v.find("legend").text();v.before('<button type="button" id="set-filter">'+m+"</button>"),h=jQuery,u="isHovered",h("*").hover((function(){h(this).data(u,1)}),(function(){h(this).data(u,0)})).data(u,0),h[u]=function(t){return h(t)[u]()},h.fn[u]=function(t){return t=0,h(this).each((function(){t+=h(this).data(u)})),t>0},t("#narrow-container").hover((function(){v.addClass("on-screen").fadeIn(250)}),(function(){v.removeClass("on-screen").fadeOut(250)}));v.find("input:radio").click((function(){var e=t(this).parent().text();v.find(".active").removeClass("active"),t("#set-filter").text(e),t(this).parent().addClass("active"),v.fadeOut(125,(function(){t(this).show().removeClass("on-screen")}))})),t(document).ready((function(){v.find(".active").removeClass("active"),v.find("input:radio:checked").parent().addClass("active")}));var w=t("#home-bottom").height()-43;t("#home-bottom .expanded").height(w),t(".marker").each((function(e){t(this).qtip({id:"myTooltip",content:{text:t('.floors-list li[data-marker="'+t(this).data("marker")+'"]').html(),title:{text:" ",button:!0}},show:{event:"click"},hide:{event:"unfocus"},style:{border:"5px solid #FF0000",widget:!1,def:!1,tip:{width:10,height:15}},position:{my:"middle left",at:"middle right",viewport:t("#floorplan-main")},width:"300px",events:{show:function(e,i){var n="p="+e.originalEvent.target.id,o="#f="+t("#floor-switcher .dropdown ul li.selected").attr("id");window.location.hash=n+o}}})}));var g={over:function(){t(this).find(".dropdown").fadeIn(50)},timeout:100,out:function(){t(this).find(".dropdown").fadeOut(100)}};t("#floor-switcher").hoverIntent(g),t("#floor-switcher .dropdown li").on("click",(function(){t("#floor-switcher .selected-floor").html(t(this).text()),t("#floor-switcher .dropdown").fadeOut(100);var e=t(this).index();t("#floor-switcher .dropdown li").removeClass("selected"),t(this).addClass("selected"),t(".floors-list .floor").removeClass("selected"),t(".floors-list .floor:eq("+e+")").addClass("selected"),t(".qtip").qtip("hide");var i="f="+t(this).attr("id");window.location.hash=i}));var b=window.location.hash,x=b.substring(1,2);if("f"==x)b=window.location.hash.replace("f=",""),t("#floor-switcher "+b).click();else if("p"==x){var k;b.indexOf("#p=");k="-1"!=b.indexOf("#f=")?"#f=":"%23f=";var y=b.indexOf(k),j=b.substring(y).replace(k,""),C=b.substring(0,y).replace("p=","");t("#floor-switcher "+j).click(),t(".markers "+C).click()}}(jQuery);