Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,n;if(null==this)throw new TypeError("this is null or not defined");var r=Object(this),s=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),n=0;n<s;){var o;n in r&&(o=r[n],e.call(t,o,n,r)),n++}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],s=0;s<n;){var o=t[s];if(e.call(r,o,s,t))return s;s++}return-1},configurable:!0,writable:!0}),
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n="prototype",r=e.Element[n],s=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},i=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},l=function(e,t){if(""===t)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},c=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,s=n.length;r<s;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=c[n]=[],d=function(){return new c(this)};if(i[n]=Error[n],u.item=function(e){return this[e]||null},u.contains=function(e){return-1!==l(this,e+="")},u.add=function(){var e,t=arguments,n=0,r=t.length,s=!1;do{-1===l(this,e=t[n]+"")&&(this.push(e),s=!0)}while(++n<r);s&&this._updateClassName()},u.remove=function(){var e,t,n=arguments,r=0,s=n.length,o=!1;do{for(t=l(this,e=n[r]+"");-1!==t;)this.splice(t,1),o=!0,t=l(this,e)}while(++r<s);o&&this._updateClassName()},u.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},u.toString=function(){return this.join(" ")},s.defineProperty){var p={get:d,enumerable:!0,configurable:!0};try{s.defineProperty(r,t,p)}catch(e){void 0!==e.number&&-2146823252!==e.number||(p.enumerable=!1,s.defineProperty(r,t,p))}}else s[n].__defineGetter__&&r.__defineGetter__(t,d)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}());var bu_prepress={};bu_prepress.audio=function(){var e=[],t=function(t){var n={};n.block=t,n.block.bu_prepress={},n.block.bu_prepress.audio=n.block.querySelector("audio");var r=e.push(n);return e[r-1]},n=function(e){e&&(e.block.bu_prepress.audioAPI={bu_prepress_on_CanPlayCallback:null,bu_prepress_on_CanPlayThroughCallback:null,bu_prepress_on_PlayingCallback:null,bu_prepress_on_PauseCallback:null,bu_prepress_on_CompleteCallback:null,bu_prepress_on_TimeUpdateCallback:null},o(e),a(e),e.block.bu_prepress.play=function(){this.audio.play()},e.block.bu_prepress.pause=function(){this.audio.pause()},e.block.bu_prepress.stop=function(){this.audio.pause(),this.audio.currentTime=0},e.block.bu_prepress.audio.readyState>=3?(r(e),s(e)):(e.block.bu_prepress.audio.addEventListener("canplay",(function(){r(e)})),e.block.bu_prepress.audio.addEventListener("canplaythrough",(function(){s(e)}))))},r=function(e){e.canplay=!0,null!=e.block.bu_prepress.audioAPI.bu_prepress_on_CanPlayCallback&&e.block.bu_prepress.audioAPI.bu_prepress_on_CanPlayCallback()},s=function(e){null!=e.block.bu_prepress.audioAPI.bu_prepress_on_CanPlayThroughCallback&&e.block.bu_prepress.audioAPI.bu_prepress_on_CanPlayThroughCallback()},o=function(e){e.block.bu_prepress.audio.addEventListener("playing",(function(){null!=e.block.bu_prepress.audioAPI.bu_prepress_on_PlayingCallback&&e.block.bu_prepress.audioAPI.bu_prepress_on_PlayingCallback()})),e.block.bu_prepress.audio.addEventListener("pause",(function(){null!=e.block.bu_prepress.audioAPI.bu_prepress_on_PauseCallback&&e.block.bu_prepress.audioAPI.bu_prepress_on_PauseCallback()})),e.block.bu_prepress.audio.addEventListener("timeupdate",(function(t){currentTime=e.block.bu_prepress.audio.currentTime,null!=e.block.bu_prepress.audioAPI.bu_prepress_on_TimeUpdateCallback&&e.block.bu_prepress.audioAPI.bu_prepress_on_TimeUpdateCallback(currentTime)})),e.block.bu_prepress.audio.addEventListener("ended",(function(t){null!=e.block.bu_prepress.audioAPI.bu_prepress_on_CompleteCallback&&e.block.bu_prepress.audioAPI.bu_prepress_on_CompleteCallback()}))},a=function(e){e.block.bu_prepress.addPrepressCanPlayCallback=function(t){"function"==typeof t&&(e.block.bu_prepress.audioAPI.bu_prepress_on_CanPlayCallback=t)},e.block.bu_prepress.addPrepressCanPlayThroughCallback=function(t){"function"==typeof t&&(e.block.bu_prepress.audioAPI.bu_prepress_on_CanPlayThroughCallback=t)},e.block.bu_prepress.addPrepressOnPlayingCallback=function(t){"function"==typeof t&&(e.block.bu_prepress.audioAPI.bu_prepress_on_PlayingCallback=t)},e.block.bu_prepress.addPrepressOnPauseCallback=function(t){"function"==typeof t&&(e.block.bu_prepress.audioAPI.bu_prepress_on_PauseCallback=t)},e.block.bu_prepress.addPrepressOnCompleteCallback=function(t){"function"==typeof t&&(e.block.bu_prepress.audioAPI.bu_prepress_on_CompleteCallback=t)},e.block.bu_prepress.addPrepressOnTimeUpdateCallback=function(t){"function"==typeof t&&(e.block.bu_prepress.audioAPI.bu_prepress_on_TimeUpdateCallback=t)}},i=function(){!function(){var e=document.querySelectorAll(".js-bu-prepress-audioplayer");if(e.length>0)for(var n=0;n<e.length;n++)t(e[n])}(),function(){if(e.length>0)for(var t=0;t<e.length;t++){var r=e[t];n(r)}}()};return document.addEventListener("DOMContentLoaded",(function(){i()})),{getaudioPlayers:function(){return e},addPlayer:function(e){if(e)return t(e)},setupPlayer:function(e){e&&n(e)}}}(),bu_prepress.buniverse=function(){document.domain.match(/bu\.edu$/g)&&(document.domain="bu.edu");var e=[],t=function(t){var n={};n.iframe=t;var r=e.push(n);return e[r-1]},n=function(e){e&&(o(e),r(e))},r=function(e){var t=!1;try{t=e.iframe.contentWindow.buniverse.addOnReadyCallback}catch(e){}t?(e.iframe.classList.add("is-loaded"),s(e)):e.iframe.addEventListener("load",(function(t){e.iframe.classList.add("is-loaded"),s(e)}))},s=function(e){var t=e.iframe.classList;e.buniverse=!1;try{e.buniverse=e.iframe.contentWindow.buniverse}catch(e){}!1!==e.buniverse&&(e.buniverse.addOnReadyCallback((function(){t.add("is-ready"),null!=e.videoAPI.bu_prepress_on_readyCallback&&e.videoAPI.bu_prepress_on_readyCallback()})),e.buniverse.addOnFirstPlayCallback((function(){null!=e.videoAPI.bu_prepress_on_firstplayCallback&&e.videoAPI.bu_prepress_on_firstplayCallback()})),e.buniverse.addOnPlayCallback((function(){t.remove("is-paused"),t.remove("is-end"),t.add("is-playing"),null!=e.videoAPI.bu_prepress_on_playCallback&&e.videoAPI.bu_prepress_on_playCallback()})),e.buniverse.addOnPauseCallback((function(){t.remove("is-playing"),t.remove("is-end"),t.add("is-paused"),null!=e.videoAPI.bu_prepress_on_pauseCallback&&e.videoAPI.bu_prepress_on_pauseCallback()})),e.buniverse.addOnCompleteCallback((function(){t.remove("is-playing"),t.remove("is-paused"),t.add("is-end"),null!=e.videoAPI.bu_prepress_on_CompleteCallback&&e.videoAPI.bu_prepress_on_CompleteCallback()})))},o=function(e){e.videoAPI={bu_prepress_on_readyCallback:null,bu_prepress_on_firstplayCallback:null,bu_prepress_on_playCallback:null,bu_prepress_on_pauseCallback:null,bu_prepress_on_CompleteCallback:null},e.addPrepressOnReadyCallback=function(t){"function"==typeof t&&(e.videoAPI.bu_prepress_on_readyCallback=t)},e.removePrepressOnReadyCallback=function(){e.videoAPI.bu_prepress_on_readyCallback=null},e.addPrepressOnFirstPlayCallback=function(t){"function"==typeof t&&(e.videoAPI.bu_prepress_on_firstplayCallback=t)},e.removePrepressOnFirstPlayCallback=function(){e.videoAPI.bu_prepress_on_firstplayCallback=null},e.addPrepressOnPlayCallback=function(t){"function"==typeof t&&(e.videoAPI.bu_prepress_on_playCallback=t)},e.removePrepressOnPlayCallback=function(){e.videoAPI.bu_prepress_on_playCallback=null},e.addPrepressOnPauseCallback=function(t){"function"==typeof t&&(e.videoAPI.bu_prepress_on_pauseCallback=t)},e.removePrepressOnPauseCallback=function(){e.videoAPI.bu_prepress_on_pauseCallback=null},e.addPrepressOnCompleteCallback=function(t){"function"==typeof t&&(e.videoAPI.bu_prepress_on_CompleteCallback=t)},e.removePrepressOnCompleteCallback=function(){e.videoAPI.bu_prepress_on_CompleteCallback=null},e.play=function(){e.buniverse.play()},e.pause=function(){e.buniverse.pause()},e.stop=function(){e.buniverse.stop()},e.seekVideo=function(t){e.buniverse.seek(t)},e.getPositionVideo=function(){return e.buniverse.getPosition()},e.getDurationVideo=function(){return e.buniverse.getDuration()},e.isMuted=function(){return e.buniverse.isMuted()},e.mute=function(){e.buniverse.mute()},e.unMute=function(){e.buniverse.unMute()},e.getVolume=function(){return e.buniverse.getVolume()},e.setVolume=function(t){e.buniverse.setVolume(t)},e.captionsOn=function(){e.buniverse.captionsOn()},e.captionsOff=function(){e.buniverse.captionsOff()},e.getPlayerState=function(){return e.buniverse.getPlayerState()},e.getVideoUrl=function(){return e.buniverse.getVideoUrl()}},a=function(e){return e.buniverse.getVideoUrl()},i=function(){!function(){var e=document.querySelectorAll('iframe[src*="bu.edu/buniverse/interface/embed/embed.html"]');if(e.length>0)for(var n=0;n<e.length;n++)t(e[n])}(),function(){if(e.length>0)for(var t=0;t<e.length;t++){var r=e[t];n(r,!0)}}()};return document.addEventListener("DOMContentLoaded",(function(){i()})),{getbuniverseVideos:function(){return e},addIframe:function(e){if(e)return t(e)},setupPlayer:function(e){e&&n(e)},play:function(e){e&&function(e){e.buniverse.play()}(e)},pause:function(e){e&&function(e){e.buniverse.pause()}(e)},stop:function(e){e&&function(e){e.buniverse.stop()}(e)},seek:function(e,t){e&&t&&function(e,t){e.buniverse.seek(t)}(e,t)},getPosition:function(e){if(e)return function(e){return e.buniverse.getPosition()}(e)},getDuration:function(e){if(e)return function(e){return e.buniverse.getDuration()}(e)},isMuted:function(e){if(e)return function(e){return e.buniverse.isMuted()}(e)},mute:function(e){e&&function(e){e.buniverse.mute()}(e)},unMute:function(e){e&&function(e){e.buniverse.unMute()}(e)},getVolume:function(e){if(e)return function(e){return e.buniverse.getVolume()}(e)},setVolume:function(e,t){if(e)return function(e,t){e.buniverse.setVolume(t)}(e,t)},captionsOn:function(e){e&&function(e){e.buniverse.captionsOn()}(e)},captionsOff:function(e){e&&function(e){e.buniverse.captionsOff()}(e)},getPlayerState:function(e){if(e)return function(e){return e.buniverse.getPlayerState()}(e)},getVideoUrl:function(e){if(e)return a(e)},getYoutubeID:function(e){if(e)return function(e){var t=a(e);if(t)return(t=t.split("?v="))[1]}(e)},secondsToMinutes:function(e){if(e)return function(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return t<10&&(t="0"+t),t+":"+n}(e)}}}(),bu_prepress.audio_block=function(){var e=[],t=(document.getElementsByTagName("body")[0],function(e){e.progressbar.addEventListener("click",(function(t){e.element.bu_prepress.audio.currentTime=e.element.bu_prepress.audio.duration*s(t,e.progressbar)})),e.element.bu_prepress.addPrepressOnCompleteCallback((function(t){e.element.bu_prepress.audio.playing=!1,e.btnIcon.classList.remove("icon-pause"),e.btnIcon.classList.add("icon-play")})),e.element.bu_prepress.addPrepressOnTimeUpdateCallback((function(t){r(e.progressbarValue,t,e.element.bu_prepress.audio.duration)})),e.progressbar.addEventListener("mousedown",(function(t){function r(t){n((function(t){e.element.bu_prepress.audio.currentTime=e.element.bu_prepress.audio.duration*s(t,e.progressbar)}),200)}document.addEventListener("mousemove",r),document.removeEventListener("mouseup",r)}))}),n=function(e,t,n){var r,s;return t||(t=250),function(){var o=n||this,a=+new Date,i=arguments;r&&a<r+t?(clearTimeout(s),s=setTimeout((function(){r=a,e.apply(o,i)}),t)):(r=a,e.apply(o,i))}},r=function(e,t,n){var r=t/n*100;e.style.width=r+"%"},s=function(e,t){return(e.pageX-t.getBoundingClientRect().left+document.body.scrollLeft)/t.clientWidth},o=function(){!function(){var t=document.querySelectorAll(".js-block-editorial-audioplayer");if(t.length>0)for(var n=0;n<t.length;n++){var r={};r.element=t[n],r.audioLength=r.element.querySelector(".wp-block-editorial-audioplayer-length"),r.playbtn=r.element.querySelector(".wp-prepress-button-play"),r.transcriptbtn=r.element.querySelector(".wp-block-editorial-audioplayer-button-transcript"),r.btnIcon=r.element.querySelector(".icon-play"),r.progressbar=r.element.querySelector(".wp-prepress-component-player-progressbar"),r.progressbarValue=r.element.querySelector(".wp-prepress-component-player-progressbar-progress"),r.progressbarKnob=r.element.querySelector(".wp-prepress-component-player-progressbar-knob"),e.push(r)}}(),e.length>0&&e.forEach((function(e,n){e.playbtn.addEventListener("click",(function(){!0===e.element.bu_prepress.audio.playing?(e.element.bu_prepress.audio.playing=!1,e.element.bu_prepress.audio.pause(),e.btnIcon.classList.remove("icon-pause"),e.btnIcon.classList.add("icon-play")):(e.element.bu_prepress.audio.playing=!0,e.element.bu_prepress.audio.play(),e.btnIcon.classList.remove("icon-play"),e.btnIcon.classList.add("icon-pause"))})),e.transcriptbtn&&e.transcriptbtn.addEventListener("click",(function(t){t.preventDefault(),e.element.classList.toggle("show-transcript")})),t(e)}))};return document.addEventListener("DOMContentLoaded",(function(){o()})),{getBlocks:function(){return e}}}(),bu_prepress.gallerytease=function(){var e=[],t=(document.getElementsByTagName("body")[0],function(){if(e.length>0)for(i=0;i<e.length;i++){var t=e[i];t.backBtn.addEventListener("click",(function(e){e.preventDefault(),r(t)})),t.forwardBtn.addEventListener("click",(function(e){e.preventDefault(),n(t)}))}}),n=function(e){if(e.currentItem===e.itemslength-1)e.element.classList.add("has-endstate-open");else{e.prevItem&&e.prevItem.classList.remove("previous-img"),e.currentItem=e.currentItem+1;for(var t=e.mediatrackitems.length-1;t>=0;t--)!0===e.mediatrackitems[t].active&&(e.mediatrackitems[t].active=!1,e.mediatrackitems[t].classList.add("previous-img"),e.prevItem=e.mediatrackitems[t],e.mediatrackitems[t].classList.toggle("active"),e.mediatrackitems[t+1].active=!0,e.mediatrackitems[t+1].classList.toggle("active"))}},r=function(e){if(0===e.currentItem);else if(e.element.classList.contains("has-endstate-open"))e.element.classList.remove("has-endstate-open");else{e.prevItem&&e.prevItem.classList.remove("previous-img"),e.currentItem=e.currentItem-1;for(var t=0;t<e.mediatrackitems.length;t++)!0===e.mediatrackitems[t].active&&(e.mediatrackitems[t].classList.add("previous-img"),e.prevItem=e.mediatrackitems[t],e.mediatrackitems[t].active=!1,e.mediatrackitems[t].classList.toggle("active"),e.mediatrackitems[t-1].active=!0,e.mediatrackitems[t-1].classList.toggle("active"))}},s=function(e){var t=e.mediatrackitems[0].querySelector("img").naturalWidth;return e.mediatrackitems[0].querySelector("img").naturalHeight/t*100},o=function(){!function(){var t=document.querySelectorAll(".js-block-edition-gallery-tease");if(t.length>0){for(r=0;r<t.length;r++){var n={};n.element=t[r],n.backBtn=t[r].querySelector(".js-block-edition-gallery-tease-back-btn"),n.forwardBtn=t[r].querySelector(".js-block-edition-gallery-tease-forward-btn"),n.mediatrack=t[r].querySelector(".js-block-edition-gallery-tease-media-track"),n.mediatrackitems=t[r].querySelectorAll(".js-block-edition-gallery-tease-media-track-item"),e.push(n)}for(r=0;r<n.mediatrackitems.length;r++)n.mediatrackitems[r].active=!1;n.mediatrackitems[0].active=!0;for(var r=n.mediatrackitems.length-1;r>=0;r--)!0===n.mediatrackitems[r].active&&n.mediatrackitems[0].classList.toggle("active");n.element.classList.remove("is-loading")}}(),function(){for(i=0;i<e.length;i++){var n=e[i];if(n.mediatrack&&n.mediatrackitems){n.currentItem=0,n.itemslength=n.mediatrackitems.length;var r=n.mediatrackitems[0].querySelector("img");function o(){n.mediatrack.style="padding-top: "+s(n)+"%",n.element.classList.add("is-ready"),t()}r.complete?o():r.addEventListener("load",o)}}}()};return document.addEventListener("DOMContentLoaded",(function(){o()})),{getgalleryTeaseBlocks:function(){return e}}}(),bu_prepress.social_photo=function(){var e=[],t=(document.getElementsByTagName("body")[0],function(e){e.element.classList.add("is-ready"),e.photos[0].classList.add("active")}),n=function(e,t){var n=e.currentIndex;e.photos[n].classList.remove("active"),e.currentIndex=t,e.photos[t].classList.add("active")},r=function(e){var t=e.currentIndex;if(t<e.lastIndex)n(e,t+1);else if(t===e.lastIndex){n(e,0)}},s=function(e){var t=e.currentIndex;if(t>0)n(e,r=t-1);else if(0===t){var r=e.lastIndex;n(e,r)}},o=function(){!function(){var t=document.querySelectorAll(".js-block-edition-social-photo");if(t.length>0)for(var n=0;n<t.length;n++){var r={};r.element=t[n],r.photos=r.element.querySelectorAll("li"),r.count=r.photos.length,r.lastIndex=r.count-1,r.currentIndex=0,r.next=r.element.querySelector(".js-block-edition-social-photo-gallery-nav-next"),r.prev=r.element.querySelector(".js-block-edition-social-photo-gallery-nav-prev"),e.push(r)}}(),function(){if(e.length>0)for(var n=0;n<e.length;n++){var o=e[n];t(o),o.next.addEventListener("click",(function(e){e.preventDefault(),r(o)})),o.prev.addEventListener("click",(function(e){e.preventDefault(),s(o)}))}}()};return document.addEventListener("DOMContentLoaded",(function(){o()})),{getBlocks:function(){return e}}}(),bu_prepress.event_details=function(){var e=function(e){var r,s,o,a,i="";r=e.querySelector(".wp-block-editorial-event-details-event-title"),s=e.querySelector(".wp-block-editorial-event-details-date[itemprop='startDate']"),o=e.querySelector(".wp-block-editorial-event-details-date[itemprop='endDate']"),a=e.querySelector(".wp-block-editorial-event-details-location span"),i=e.querySelector(".wp-block-editorial-event-details-description"),r&&(r=r.innerText),s&&(s=n(s.getAttribute("content"))),o&&(o=n(o.getAttribute("content"))),a&&(a=a.innerText),i&&(i=i.innerText),r&&s&&t(e,r,s,60,o,a,i)},t=function(e,t,n,r,s,o,a){var i=e.querySelector(".wp-block-editorial-event-details-calendar-link"),l=createCalendar({options:{},data:{title:t,start:n,duration:r,end:s,address:o,description:a}});i.appendChild(l),e.classList.add("has-calendar-button")},n=function(e){var t=e.match(/\d+/g);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])},r=function(){var t;(t=document.querySelectorAll(".wp-block-editorial-event-details")).length>0&&t.forEach((function(t,n){e(t)}))};document.addEventListener("DOMContentLoaded",(function(){r()}))}(),bu_prepress.parallax=function(){var e=function(){"undefined"!=typeof Rellax&&new Rellax(".js-block-editorial-parallax-active",{speed:-2,center:!1,wrapper:null,round:!0,vertical:!0,horizontal:!1})};document.addEventListener("DOMContentLoaded",(function(){e()}))}(),bu_prepress.sequential_cards=function(){var e=document.getElementsByTagName("body")[0],t=function(e){e.sequential_cards={},e.sequential_cards.cards=e.querySelectorAll(".wp-block-sequential-cards-card"),e.sequential_cards.cardCount=e.sequential_cards.cards.length,e.sequential_cards.backBtn=e.querySelector(".js-block-sequential-cards-back"),e.sequential_cards.forwardBtn=e.querySelector(".js-block-sequential-cards-forward"),e.sequential_cards.cards[0].classList.add("active"),n(e,e.sequential_cards.cards,e.sequential_cards.cardCount),r(e),e.sequential_cards.forwardBtn.addEventListener("click",(function(t){t.preventDefault();var r=e.querySelector(".wp-block-sequential-cards-card.active"),s=e.querySelector(".wp-block-sequential-cards-card.active").nextElementSibling;null!==s&&(r.classList.remove("active"),s.classList.add("active"),n(e,e.sequential_cards.cards,e.sequential_cards.cardCount))})),e.sequential_cards.backBtn.addEventListener("click",(function(t){t.preventDefault();var r=e.querySelector(".wp-block-sequential-cards-card.active"),s=e.querySelector(".wp-block-sequential-cards-card.active").previousElementSibling;null!==s&&s.matches(".wp-block-sequential-cards-card")&&(r.classList.remove("active"),s.classList.add("active"),n(e.sequential_cards.cards,e.sequential_cards.cardCount))}))},n=function(e,t,n){var r=(t=Array.prototype.slice.call(t)).findIndex((function(e){return e.classList.contains("active")}));e.setAttribute("data-sequential-cards-active",r)},r=function(e){e.sequential_cards.cards.forEach((function(e,t){var n=e.querySelector(".wp-block-sequential-cards-stat");if(n){var r=n.querySelector(".wp-block-sequential-cards-stat-value"),o=r.getAttribute("data-stat");if(o.endsWith("%")){o=o.split("%")[0];var a=document.createElement("div");a.classList.add("wp-block-sequential-cards-stat-chart"),a.innerHTML=s(o),n.insertBefore(a,r),a.appendChild(r)}}}))},s=function(e){var t=2*Math.PI*70;return['<svg class="wp-block-sequential-cards-stat-donut" viewBox="0 0 160 160" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">',"<g>","<title>Donut chart</title>",'<circle id="wp-block-sequential-cards-stat-donut-circle1" class="wp-block-sequential-cards-stat-donut-bg" r="70" cy="81" cx="81" fill="none"/>','<circle id="wp-block-sequential-cards-stat-donut-circle2" class="wp-block-sequential-cards-stat-donut-bar" r="70" cy="81" cx="81" fill="none" stroke-dashoffset="'+o(e,t)+'" transform="rotate(-90 81 81)" />',"</g>","</svg>"].join("\n")},o=function(e,t){return t/100*(100-e)},a=function(){var n;(n=document.querySelectorAll(".js-block-editorial-sequential-cards")).length>0&&(e.classList.add("has-wp-block-sequential-cards"),n.forEach((function(e,n){t(e)})))};return document.addEventListener("DOMContentLoaded",(function(){a()})),{}}(),bu_prepress.video_story=function(){var e={video:"",status:"teaser",teaser:{},controls:{},transcript:{captions:[]}},t=function(e){document.querySelector(".js-block-video-story-tab-container .show-tab").classList.remove("show-tab"),e.classList.add("show-tab")},n=function(){e.transcript.summaryBtn.addEventListener("click",(function(n){n.preventDefault(),e.transcript.summaryBtn.classList.add("active"),e.transcript.transcriptBtn.classList.remove("active"),t(e.transcript.summaryTab)})),e.transcript.transcriptBtn.addEventListener("click",(function(n){n.preventDefault(),e.transcript.transcriptBtn.classList.add("active"),e.transcript.summaryBtn.classList.remove("active"),t(e.transcript.transcriptTab)})),p(bu_prepress.buniverse.getYoutubeID(e.video),r)},r=function(t){var n=null;t&&(n=t.querySelector("track").getAttribute("name"));v(bu_prepress.buniverse.getYoutubeID(e.video),n,s)},s=function(t){if(t){var n=b(t);if(n.length>0){for(var r=0;r<n.length;r++)n[r].element.addEventListener("click",(function(t){t.preventDefault(),"playing"!=e.status&&o(),bu_prepress.buniverse.seek(e.video,this.transcriptStart)}));e.element.classList.add("has-transcript")}}},o=function(){e.status="playing",e.element.classList.add("has-video-open"),bu_prepress.buniverse.play(e.video)},a=function(){e.teaser.playBtn.addEventListener("click",(function(e){e.preventDefault(),o()})),e.teaser.playBtnSmallScreen.addEventListener("click",(function(e){e.preventDefault(),o()}));var n=function(t){t.preventDefault(),bu_prepress.buniverse.play(e.video)};e.endstateReplayBtn.addEventListener("click",n),e.controls.play.addEventListener("click",n),e.video.addPrepressOnFirstPlayCallback((function(){bu_prepress.buniverse.captionsOff(e.video),i(),e.transcript.captions.length>0&&(e.transcript.transcriptBtn.classList.add("active"),e.transcript.summaryBtn.classList.remove("active"),t(e.transcript.transcriptTab))})),e.video.addPrepressOnPlayCallback((function(){e.controls.play.classList.remove("active"),e.controls.pause.classList.add("active"),u(),c()})),e.controls.pause.addEventListener("click",(function(t){t.preventDefault(),bu_prepress.buniverse.pause(e.video)})),e.video.addPrepressOnPauseCallback((function(){e.controls.pause.classList.remove("active"),e.controls.play.classList.add("active")})),e.video.addPrepressOnCompleteCallback((function(){e.controls.play.classList.add("active"),e.controls.pause.classList.remove("active"),u(),c()})),e.controls.rewind.addEventListener("click",(function(t){t.preventDefault();var n=bu_prepress.buniverse.getPosition(e.video)-10;n<0&&(n=0),bu_prepress.buniverse.seek(e.video,n)})),e.controls.forward.addEventListener("click",(function(t){t.preventDefault();var n=bu_prepress.buniverse.getPosition(e.video)+10;n>e.videoduration&&(n=e.videoduration),bu_prepress.buniverse.seek(e.video,n)})),e.controls.captions.addEventListener("click",(function(t){t.preventDefault(),e.controls.captions.classList.contains("active")?(e.controls.captions.classList.remove("active"),bu_prepress.buniverse.captionsOff(e.video)):(e.controls.captions.classList.add("active"),bu_prepress.buniverse.captionsOn(e.video))})),screenfull.enabled?e.controls.fullscreen.addEventListener("click",(function(t){t.preventDefault(),screenfull.enabled&&(screenfull.on("change",(function(){Waypoint.refreshAll()})),!0===e.fullscreen?(e.fullscreen=!1,screenfull.exit(e.videoplayer_element),e.waypoint.enable(),Waypoint.refreshAll(),!0===e.sticky&&(e.videoplayer_element.classList.add("is-sticky-video-story"),document.body.classList.add("has-sticky-video-story"))):(e.fullscreen=!0,screenfull.request(e.videoplayer_element),e.waypoint.disable(),!0===e.sticky&&(e.videoplayer_element.classList.remove("is-sticky-video-story"),document.body.classList.remove("has-sticky-video-story"))))})):e.controls.fullscreen.style.display="none",e.controls.volume.addEventListener("click",(function(t){(t.preventDefault(),t.target!==e.controls.volumerange)&&(bu_prepress.buniverse.isMuted(e.video)?(bu_prepress.buniverse.unMute(e.video),e.controls.volume.classList.remove("active"),e.controls.volumerange.value=50,bu_prepress.buniverse.setVolume(e.video,50)):(bu_prepress.buniverse.mute(e.video),e.controls.volume.classList.add("active"),e.controls.volumerange.value=0,bu_prepress.buniverse.setVolume(e.video,0)))})),e.controls.volumerange.value=50,bu_prepress.buniverse.setVolume(e.video,50),d(e.controls.volumerange,(function(t){bu_prepress.buniverse.setVolume(e.video,t.target.value)}));var r=function(t){var n=t.layerX*this.max/this.offsetWidth;if(n>=0&&n<=100){var r=n/100*e.videoduration;e.controls.progress.value=n,bu_prepress.buniverse.seek(e.video,r)}};e.controls.progress.addEventListener("mouseup",r,!1),e.controls.progress.addEventListener("touchend",r,!1)},i=function(){e.waypoint=new Waypoint({element:e.element,handler:function(e){l()},offset:"-95%"})},l=function(t){if(!0===e.sticky)e.header.style.paddingTop="unset",e.videoplayer_element.classList.remove("is-sticky-video-story"),document.body.classList.remove("has-sticky-video-story"),e.sticky=!1;else{var n=e.header.offsetWidth,r=e.header.offsetHeight/n*100;e.header.style.paddingTop=r+"%",e.videoplayer_element.classList.toggle("is-sticky-video-story"),document.body.classList.toggle("has-sticky-video-story"),e.sticky=!0}},c=function(){0===bu_prepress.buniverse.getPlayerState(e.video)?e.element.classList.add("has-endstate-open"):e.element.classList.remove("has-endstate-open")},u=function(){var t=e.transcript.captions;!function n(){if(1===bu_prepress.buniverse.getPlayerState(e.video)){var r=parseInt(bu_prepress.buniverse.getPosition(e.video)),s=Math.round(r)/e.videoduration*100;e.controls.progress.value=s,e.controls.progressbar.style.width=s+"%";for(var o=0;o<t.length;o++){var a=t[o].start,i=t[o].duration,l=a+i,c=t[o].element;r>=a&&r<=l&&(c.classList.contains("active")||(c.classList.add("active"),setTimeout((function(e){e.classList.remove("active")}),100*i,c)))}setTimeout(n,100)}else 0===bu_prepress.buniverse.getPlayerState(e.video)&&(e.controls.progress.value=100,e.controls.progressbar.style.width="100%")}()},d=function(e,t){var n=!0,r={current:void 0,mostRecent:void 0};e.addEventListener("input",(function(e){n=!1,r.current=e.target.value,r.current!==r.mostRecent&&t(e),r.mostRecent=r.current})),e.addEventListener("change",(function(e){n&&t(e)}))},p=function(e,t){if(e){var n=new XMLHttpRequest;n.onload=function(){n.status>=200&&n.status<300&&t(n.responseXML)},n.open("GET","https://www.youtube.com/api/timedtext?v="+e+"&type=list"),n.responseType="document",n.send()}},v=function(e,t,n){if(e){var r=new XMLHttpRequest,s=null;r.onload=function(){r.status>=200&&r.status<300&&n(r.responseXML)},t?(s="&name="+encodeURIComponent(t),r.open("GET","https://www.youtube.com/api/timedtext?v="+e+"&lang=en"+s)):r.open("GET","https://www.youtube.com/api/timedtext?v="+e+"&lang=en"),r.responseType="document",r.send()}},b=function(t){if(t){var n=t.querySelectorAll("text");if(n.length>0){for(var r=0;r<n.length;r++){var s=n[r].textContent,o=parseInt(n[r].getAttribute("start"));o=Math.floor(o);var a=parseInt(n[r].getAttribute("dur")),i=document.createElement("div");i.classList.add("wp-block-video-story-transcript-item"),i.transcriptStart=o,i.transcriptDuration=a;var l=document.createElement("span");l.classList.add("wp-block-video-story-transcript-timestamp"),l.innerHTML=bu_prepress.buniverse.secondsToMinutes(o);var c=document.createElement("span");c.classList.add("wp-block-video-story-transcript-text"),c.innerHTML=s,i.appendChild(l),i.appendChild(c),e.transcript.transcriptTab.appendChild(i),e.transcript.captions.push({start:o,duration:a,element:i})}return e.transcript.captions}}},f=function(){!function(){if(e.element=document.querySelector(".js-wp-block-video-story"),e.element){e.videoplayer_element=document.querySelector(".js-block-video-story-videoplayer"),e.header=e.element.querySelector(".wp-block-video-story-header"),e.teaser.playBtn=document.querySelector(".js-wp-block-video-story-play"),e.teaser.playBtnSmallScreen=document.querySelector(".js-wp-block-video-story-play-smallScreen"),e.controls.play=document.querySelector("button.wp-block-video-story-videoplayer-playBtn"),e.controls.pause=document.querySelector("button.wp-block-video-story-videoplayer-pauseBtn"),e.controls.share=document.querySelector("button.wp-block-video-story-videoplayer-shareBtn"),e.controls.volume=document.querySelector("button.wp-block-video-story-videoplayer-volumeBtn"),e.controls.volumerange=document.querySelector("button.wp-block-video-story-videoplayer-volumeBtn input"),e.controls.captions=document.querySelector("button.wp-block-video-story-videoplayer-captionsBtn"),e.controls.fullscreen=document.querySelector("button.wp-block-video-story-videoplayer-fullscreenBtn"),e.controls.rewind=document.querySelector("button.wp-block-video-story-videoplayer-rewindBtn"),e.controls.forward=document.querySelector("button.wp-block-video-story-videoplayer-forwardBtn"),e.controls.progress=document.querySelector(".wp-block-video-story-videoplayer-progress"),e.controls.progressbar=document.querySelector(".wp-block-video-story-videoplayer-progress-bar span"),e.tabs=document.querySelector(".js-block-video-story-tab-container"),e.transcript.summaryBtn=document.querySelector("button.js-wp-block-video-story-summaryBtn"),e.transcript.transcriptBtn=document.querySelector("button.js-wp-block-video-story-transcriptBtn"),e.transcript.summaryTab=document.querySelector(".js-wp-block-video-story-tab-summary"),e.transcript.transcriptTab=document.querySelector(".js-wp-block-video-story-tab-transcript"),e.endstate=e.element.querySelector(".js-block-video-story-endstate"),e.endstateReplayBtn=e.endstate.querySelector("button.wp-block-video-story-videoplayer-replayBtn");var t=bu_prepress.buniverse.getbuniverseVideos();if(t.length>0)for(var r=0;r<t.length;r++)t[r].iframe.classList.contains("wp-block-video-story-videoplayer-thevideo")&&(e.video=t[r]);e.teaser.playBtnSmallScreen.addEventListener("click",(function(e){e.preventDefault()})),e.teaser.playBtn.addEventListener("click",(function(e){e.preventDefault()})),e.video.addPrepressOnReadyCallback((function(){e.element.classList.add("has-video-ready"),e.status="ready",a(),e.videoduration=bu_prepress.buniverse.getDuration(e.video),n()}))}}()};return document.addEventListener("DOMContentLoaded",(function(){f()})),{getStory:function(){return e}}}(),MicroModal.init({disableScroll:!0,disableFocus:!1,awaitCloseAnimation:!1,debugMode:!0}),bu_prepress.social_share=function(){var e=[],t=(document.getElementsByTagName("body")[0],document.querySelector(".js-prepress-component-share-tools")),n=function(){if(e.length>0&&t){e.forEach((function(e,t){e.tooltip=new Tooltip(e,{placement:"bottom",title:"<div></div>",html:!0,trigger:"manual",closeOnClickOutside:!1,template:'<div class="tooltip wp-prepress-component-share-tools" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),e.addEventListener("click",(function(t){t.preventDefault(),this.classList.contains("active")?(e.tooltip.hide(),this.classList.remove("active")):(this.classList.add("active"),e.tooltip.updateTitleContent(function(){var e=document.createElement("div"),t=document.querySelector(".js-prepress-component-share-tools");return e.appendChild(t),e}()),e.tooltip.show())}))}));var n=document.querySelector(".js-prepress-component-share-tools");n.inputTarget=n.getElementsByTagName("input")[0],n.addEventListener("click",(function(e){e.preventDefault();var t=this.inputTarget;t.focus(),t.select(),document.execCommand("copy")}))}},r=function(){!function(){var t=document.querySelectorAll(".js-bu-prepress-share-tools");if(t.length>0)for(var n=0;n<t.length;n++)e.push(t[n])}(),n()};return document.addEventListener("DOMContentLoaded",(function(){r()})),{getshareTools:function(){return e}}}(),bu_prepress.issues_landing_page=function(){var e=[],t=(document.getElementsByTagName("body")[0],function(){!function(){var t=document.getElementsByClassName("js-bu-prepress-landing-issue");if(t.length>0)for(var n=0;n<t.length;n++)e.push(t[n])}(),function(){if(e.length>0)for(var t=0;t<e.length;t++){var n=e[t],r=n.querySelector(".js-bu-prepress-landing-issue-btn"),s=(n.querySelector(".js-bu-prepress-landing-issue-modal"),n.querySelector(".js-bu-prepress-landing-issue-modal-next")),o=n.querySelector(".js-bu-prepress-landing-issue-modal-prev");r&&r.addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("data-issue-id");MicroModal.show("modal-issue-"+t,{disableScroll:!0}),window.scrollTo(0,0)})),s&&s.addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("data-issue-id");MicroModal.close(),MicroModal.show(t,{disableScroll:!0})})),o&&o.addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("data-issue-id");MicroModal.close(),MicroModal.show(t,{disableScroll:!0})}))}}()});return document.addEventListener("DOMContentLoaded",(function(){t()})),{getIssues:function(){return e}}}();