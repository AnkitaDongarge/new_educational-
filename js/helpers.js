const DEBUG_BROWSER=!1;function logBrowserMessage(e){DEBUG_BROWSER&&console.log("_browserCompatibility) "+e)}function doesBrowserSupportWebComponents(e){let o=!!document.documentMode,a=!!window.StyleMedia,r=navigator.userAgent.includes("Firefox/60."),t=!o&&!a&&!r,i="supported";if(!t&&(i=o?"ie":a?"edge (old)":"firefox (old)",logBrowserMessage("user_agent doesn't support browser guess: "+i),void 0!==e&&!0===e)){let e="browser-compatibility",o=window.location.pathname;window.gtag?window.gtag("event",i,{event_category:e,event_label:o}):window.ga&&window.ga("send",e,i,o)}return logBrowserMessage("user_agent_supports_web_components: "+(t?": ]":":(")),t}function loadWebComponentInto(e,o){for(var a=doesBrowserSupportWebComponents(!1)?o:document.getElementsByTagName(e),r=0;r<a.length;r++)a[r].hidden=!0}var DEBUG_ANALYTICS=!1,PREVENT_GA_CALL=!1;function logGoogleAnalyticsMessage(e){DEBUG_ANALYTICS&&console.log("google_analytics_helper) "+e)}function sendGAEvent(e,o,a,r){logGoogleAnalyticsMessage(`request made to sendGAEvent('${e}', '${o}', '${a}'${null==r||null==r?"":`, value='${r}'`})`);try{window.gtag&&!PREVENT_GA_CALL?(window.gtag("event",o,{event_category:e,event_label:a,value:r}),logGoogleAnalyticsMessage("window.gtag() found and called")):window.ga&&!PREVENT_GA_CALL?(window.ga("send",e,o,a),logGoogleAnalyticsMessage("window.ga() found and called")):logGoogleAnalyticsMessage(`event '${e}' was NOT SENT to either 'ga()' nor 'gtag()' [PREVENT_GA_CALL='${PREVENT_GA_CALL}']`)}catch(e){logGoogleAnalyticsMessage("ERROR! - unable to sendGAEvent with gtag, ga, or nothing."),DEBUG_ANALYTICS&&console.log(e)}}function sendGAEventFromClickEvent(e,o,a){let r="[unknown]";try{r=e.target.innerText?e.target.innerText:e.target.querySelector("span").innerText||"[unknown]",r=r.replace(/[^a-zA-Z0-9 ]/g,""),r=r.toLowerCase().replace(/ +/g,"-")}catch(e){logGoogleAnalyticsMessage("error getting contentClicked from clickEvent: "),DEBUG_ANALYTICS&&console.log(e)}a&&""!=a?(logGoogleAnalyticsMessage(`actionName '${a}' registered as a real value, sending action with label as contentClicked: '${r}'`),sendGAEvent(o,a,r)):(logGoogleAnalyticsMessage(`actionName considered 'undefined' or empty. sending action:'${r}', label:'${window.location.pathname}'.`),sendGAEvent(o,r,window.location.pathname))}function addSendGAEventOnAnchorClickToAnchorElements(e,o,a){logGoogleAnalyticsMessage(`adding click listeners with eventName:'${o}', actionName:'${a}'`);for(let r=0;r<e.length;r++)e[r].addEventListener("click",(e=>sendGAEventFromClickEvent(e,o,a)))}const INFO_HELPER_DEBUG=!1;function logLibInfoToConsole(e,o){o&&!0===o&&console.log("lib_info_helper) "+e)}const libraries_data_backup={"mugar-memorial":{name:"Mugar Memorial Library",short:"Mugar Library",website:"https://www.bu.edu/library/mugar-memorial/",address:["771 Commonwealth Avenue","Boston, MA 02215"],contacts:{phone:"617-353-2700",email:"ask@bu.edu"},social:{facebook:"bostonulibraries",twitter:"bulibraries",instagram:"bulibraries"},hours_url:"https://www.bu.edu/library/mugar-memorial/about/hours/",libcal_lid:1475},"african-studies":{name:"African Studies Library",short:"African Studies",website:"https://www.bu.edu/library/african-studies/",address:["771 Commonwealth Ave, 6th Floor","Boston, MA, 02215"],contacts:{phone:"617-353-3726"},social:{facebook:"BuAfricanStudiesLibrary",flickr:"123460528@N03"},hours_url:"https://www.bu.edu/library/african-studies/about/hours/",libcal_lid:1809},medlib:{name:"Alumni Medical Library",short:"Medical Library",website:"https://medlib.bu.edu/",address:["72 E Concord, L-12","Boston, MA 02118"],contacts:{phone:"617-358-2350",fax:"617-358-2347",email:"refquest@bu.edu"},hours_url:"https://www.bumc.bu.edu/medlib/about-us/hours/"},astronomy:{name:"Astronomy Library",short:"Astronomy Library",website:"https://www.bu.edu/library/astronomy/",address:["725 Commonwealth Avenue","Boston, MA 02445"],contacts:{phone:"617-353-2625"},hours_url:"https://www.bu.edu/library/astronomy/about/hours/",libcal_lid:1784},lawlibrary:{name:"Fineman & Pappas Law Libraries",short:"Law Library",website:"https://www.bu.edu/lawlibrary/",address:["765 Commonwealth Ave, 2nd Floor","Boston, MA 02215"],contacts:{phone:"617-353-8411",text:"1-617-997-4475"},hours_url:"https://www.bu.edu/lawlibrary/using-the-library/access-policy/"},hgar:{name:"Howard Gotlieb Archival Research Center",short:"BU Archive",website:"http://archives.bu.edu/",address:["771 Commonwealth Ave, 5th Floor","Boston, MA 02215"],contacts:{phone:"617-353-3696",fax:"617-353-2838",email:"archives@bu.edu"},social:{facebook:"hgarc",twitter:"BUHGARC"},hours_url:"http://archives.bu.edu/web/guest/about"},music:{name:"Music Library",short:"Music Library",website:"https://www.bu.edu/library/music/",address:["771 Commonwealth Ave, Floor 2","Boston, MA 02215"],contacts:{phone:"617-353-3705",email:"musiclib@bu.edu"},social:{twitter:"BUMusicLib",facebook:"bumusiclib"},hours_url:"https://www.bu.edu/library/music/about/hours/",libcal_lid:1810},pardee:{name:"Pardee Management Library",short:"Pardee Library",website:"https://www.bu.edu/library/management/",address:["595 Commonwealth Avenue","Boston, MA 02215"],contacts:{phone:"617-353-4301",fax:"617-353-4307",email:"pardstf@bu.edu"},social:{twitter:"BUpardeelibrary",facebook:"BUpardeelibrary"},hours_url:"https://www.bu.edu/library/management/about/hours/",libcal_lid:1476},pickering:{name:"Pickering Educational Resources Library",short:"Pickering Library",website:"https://www.bu.edu/library/pickering-educational/",address:["2 Silber Way","Boston, MA 02215"],contacts:{phone:"617-353-3734"},social:{twitter:"BUPickeringLib",facebook:"BUPickeringLibrary"},hours_url:"https://www.bu.edu/library/pickering-educational/about/hours",libcal_lid:1783},sel:{name:"Science & Engineering Library",short:"SciEng Library",website:"https://www.bu.edu/library/sel/",address:["38 Cummington Mall","Boston, MA 02215"],contacts:{phone:"617-353-3733",fax:"617-353-3470"},social:{twitter:"BUSciEngLib",tumblr:"buscienglib",instagram:"buscienglib"},hours_url:"https://www.bu.edu/library/sel/about/hours/",libcal_lid:1477},stone:{name:"Stone Science Library",short:"Stone Library",website:"https://www.bu.edu/library/stone-science/",address:["675 Commonwealth Ave, Floor 2","Boston, MA 02445"],contacts:{phone:"617-353-5679"},hours_url:"https://www.bu.edu/library/stone-science/about/hours/",libcal_lid:1785},theology:{name:"School of Theology Library",short:"Theology Library",website:"https://www.bu.edu/sthlibrary/",address:["745 Commonwealth Ave, Floor 2","Boston, MA 02215"],contacts:{phone:"617-353-3034",fax:"617-358-0698",email:"sthlib@bu.edu"},social:{twitter:"BUSTHLibrary",facebook:"busthlibrary",instagram:"butheologylibrary"},hours_url:"https://www.bu.edu/sthlibrary/for-visitors/directions/"},help:{name:"BU Libraries",short:"BU Libraries",website:"https://www.bu.edu/library",address:["771 Commonwealth Avenue","Boston, MA 02215"],contacts:{phone:"617-353-2700",email:"ask@bu.edu",text:"617-431-2427"},social:{facebook:"bostonulibraries",twitter:"bulibraries",instagram:"bulibraries"},hours_url:"https://www.bu.edu/library/mugar-memorial/about/hours/",libcal_lid:1475}};function getLibraryInfoFromCode(e,o,a){void 0===o&&(o=INFO_HELPER_DEBUG),void 0===a&&(a="help");let r=libraries_data_backup,t=r[e]||r[a];return logLibInfoToConsole(`getting library_data for code: '${e}' with default '${a}'.`,o),t}function getSiteCodeFromUrl(e,o,a){void 0===o&&(o=INFO_HELPER_DEBUG),void 0===a&&(a="help");let r="about";return r=e.includes("askalibrarian")?"help":e.includes("/disc/")||e.includes("/dioa")?"services":e.includes("open.bu")||e.includes("archives")?"collections":e.includes("guides")||e.includes("library.bu.edu")?"guides":e.includes("buprimo")||e.includes("exlibrisgroup")||e.includes("primo-explore")?"search":e.includes(".bu.edu/library")?e.includes("/research")?"research":e.includes("/services")?"services":"about":"about",logLibInfoToConsole(`site_code '${r}' extracted from url '${e}'.`,o),r}function getLibraryCodeFromUrl(e,o,a){void 0===o&&(o=INFO_HELPER_DEBUG),void 0===a&&(a="help");let r=a;if(e.includes("archives.bu.edu")&&(r="hgar"),e.includes("bu.edu/library/")){let o=e.split("bu.edu/library/")[1]||"";o=o.split("/")[0],r=o.includes("africa")?"african-studies":o.includes("mugar")?"mugar-memorial":o.includes("med")?"medlib":o.includes("astronom")?"astronomy":o.includes("law")?"lawlibrary":o.includes("music")?"music":o.includes("management")?"pardee":o.includes("pickering")?"pickering":o.includes("sel")?"sel":o.includes("stone")||o.includes("sth")?"stone":"help"}return e.includes("booking/mugarstudy")?r="mugar-memorial":e.includes("booking/Pickering")&&(r="pickering"),e.includes("maps-floorplans/mugar")&&(r="mugar-memorial",e.includes("mugar-2")?r="music":e.includes("mugar-6")&&(r="african-studies")),e.includes("askalibrarian")&&e.includes("business")&&(r="pardee"),Object.keys(libraries_data_backup).includes(r)||(r="help"),logLibInfoToConsole(`lib_code '${r}' from lib_url '${e}'`,o),r}function getAllLibraryInfo(){return libraries_data_backup}function makeLibraryUrlList(){let e,o="";for(e in libraries_data_backup){let a=getLibraryInfoFromCode(e);o+=`\t<li href="${a.website}">${a.name}"<li>\n`}return`<ul>\n${o}</ul>\n`}const DEBUG_STORAGE_UTIL=!1,DEFAULT_STORAGE_EXPIRATION_TIME=2592e5;function logStorageMessage(e){DEBUG_STORAGE_UTIL&&console.log("_storageUtility) "+e)}function readExpiringLocalValue(e,o){var a=o||!1;try{var r=localStorage.getItem(e),t=localStorage.getItem(e+"-when");r&&t&&(Date.now()-t<2592e5?(a="true"==localStorage.getItem(e),logStorageMessage(`unexpired '${e}' value of '${r}' read from localStorage`)):(localStorage.removeItem(e),localStorage.removeItem(e+"-when"),logStorageMessage(`expired '${e}*' values have been removed. will be sending fallback of '${o}'`)))}catch(r){logStorageMessage(`exception trying to get item '${e}' from localStorage: '${r.message}'. returning fallback '${o}' instead`),a=o||!1}finally{return a}}function setExpiringLocalValue(e,o){try{localStorage.setItem(e,o),localStorage.setItem(e+"-when",Date.now()),logStorageMessage(`key '${e}' successfully set to value '${o}'.`)}catch(e){logStorageMessage("exception trying to setItem in localStorage: "+e.message)}}